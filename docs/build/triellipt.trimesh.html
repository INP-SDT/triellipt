<!DOCTYPE html>
<html lang="en">

<head>
    <title>Modules â€” triellipt documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="utf-8">
    <link rel="stylesheet" href="docpage.css">
    <script src="docpage.js"></script>
</head>

<body>

    <div id="top-panel">
        <div id="page-logo"></div>
        <div id="top-panel-tool-bar">
            <div id="global-toc-btn" class="top-panel-btn" onclick="switchTOC(this)"></div>
            <div id="local-toc-btn" class="top-panel-btn" onclick="switchTOC(this)"></div>
            <div id="home-page-btn" class="top-panel-btn" onclick="gotoHomePage()"></div>
        </div>
    </div>

    <div id="global-toc-box" class="toc-box">
        <div class="toc-box__header">
            <p>Contents</p><button onclick="closeTOC(this)">&#x2715;</button>
        </div>
        <div id="global-toc-box__text" class="toc-box__textbox"></div>
    </div>
    <div id="local-toc-box" class="toc-box">
        <div class="toc-box__header">
            <p>On this page</p><button onclick="closeTOC(this)">&#x2715;</button>
        </div>
        <div id="local-toc-box__text" class="toc-box__textbox">
            <p>
            <ul>
                <li><a href="#triellipt.trimesh">triellipt.trimesh</a>
                    <ul>
                        <li><a href="#trimesh">TriMesh</a>
                            <ul>
                                <li><a href="#submesh">submesh()</a></li>
                                <li><a href="#deltriangs">deltriangs()</a></li>
                                <li><a href="#delghosts">delghosts()</a></li>
                                <li><a href="#getvoids">getvoids()</a></li>
                                <li><a href="#alignnodes">alignnodes()</a></li>
                                <li><a href="#renumed">renumed()</a></li>
                                <li><a href="#shuffled">shuffled()</a></li>
                                <li><a href="#meshedge">meshedge()</a></li>
                                <li><a href="#edgesmap">edgesmap()</a></li>
                                <li><a href="#nodesmap">nodesmap()</a></li>
                                <li><a href="#supertriu">supertriu()</a></li>
                                <li><a href="#reduced">reduced()</a></li>
                                <li><a href="#split">split()</a></li>
                            </ul>
                        </li>
                        <li><a href="#meshedge-1">MeshEdge</a>
                            <ul>
                                <li><a href="#getloops">getloops()</a></li>
                            </ul>
                        </li>
                        <li><a href="#edgeloop">EdgeLoop</a>
                            <ul>
                                <li><a href="#synctoedge">synctoedge()</a></li>
                                <li><a href="#synctonode">synctonode()</a></li>
                            </ul>
                        </li>
                        <li><a href="#edgesmap-1">EdgesMap</a>
                            <ul>
                                <li><a href="#getspec">getspec()</a></li>
                            </ul>
                        </li>
                        <li><a href="#nodesmap-1">NodesMap</a>
                            <ul>
                                <li><a href="#atrank">atrank()</a></li>
                                <li><a href="#atnode">atnode()</a></li>
                            </ul>
                        </li>
                        <li><a href="#supertriu-1">SuperTriu</a>
                            <ul>
                                <li><a href="#strip">strip()</a></li>
                                <li><a href="#smooth">smooth()</a></li>
                                <li><a href="#detach">detach()</a></li>
                                <li><a href="#reduce">reduce()</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
            </p>
        </div>
    </div>

    <div id="content-box">
        <div id="title-box">
            <h1 id="title-box__title"></h1>
            <h2 id="title-box__annotation"></h2>
            <hr>
        </div>
        <div id="doc-box">
<div class="toc-anchor"></div><h1>triellipt.trimesh</h1>

<p>Triangle mesh object.</p>

<div class="toc-anchor"></div><h2>TriMesh</h2>

<pre class="py-sign"><b><em>class</em></b> triellipt.trimesh.<b>TriMesh</b>(points=<span>None</span>, triangs=<span>None</span>)</pre>

<p>Triangle mesh.</p>

<p><b>Attributes</b></p>

<p><span class="vardef"><code>points</code> : <em>flat-complex-array</em></span></p>

<dl><dd>
  Mesh points in a complex plane.
</dd></dl>

<p><span class="vardef"><code>triangs</code> : <em>3-column-int-table</em></span></p>

<dl><dd>
  Triangles vertices in CCW order.
</dd></dl>

<p><b>Properties</b></p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>triu</code></td>
        <td>Generator of triplot arguments.</td>
    </tr>
    <tr>
        <td><code>points2d</code></td>
        <td>Mesh points as two float rows.</td>
    </tr>
    <tr>
        <td><code>centrs2d</code></td>
        <td>Triangle centers as two float rows.</td>
    </tr>
</table>

<div class="toc-anchor"></div><h3>submesh()</h3>

<pre class="py-sign">TriMesh.<b>submesh</b>(<em>self</em>, *trinums)</pre>

<p>Extracts a submesh.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>trinums</code> : <em>*int</em></span></p>

<dl><dd>
  Numbers of triangles to include.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh</em></span></p>

<dl><dd>
  New mesh object.
</dd></dl>

<div class="toc-anchor"></div><h3>deltriangs()</h3>

<pre class="py-sign">TriMesh.<b>deltriangs</b>(<em>self</em>, *trinums)</pre>

<p>Removes triangles from the mesh.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>trinums</code> : <em>*int</em></span></p>

<dl><dd>
  Numbers of triangles to delete.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh</em></span></p>

<dl><dd>
  New mesh object.
</dd></dl>

<div class="toc-anchor"></div><h3>delghosts()</h3>

<pre class="py-sign">TriMesh.<b>delghosts</b>(<em>self</em>)</pre>

<p>Removes ghost points from the mesh.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh</em></span></p>

<dl><dd>
  New mesh.
</dd></dl>

<p><b>Notes</b></p>

<p>Related methods:</p>

<p>
<ul class="md-list">
    <li><code>.hasghosts()</code> shows if there are any ghosts</li>
    <li><code>.getghosts()</code> returns ghost numbers, if any</li>
</ul>
</p>

<div class="toc-anchor"></div><h3>getvoids()</h3>

<pre class="py-sign">TriMesh.<b>getvoids</b>(<em>self</em>)</pre>

<p>Finds empty triangles (voids).</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>flat-int-array</em></span></p>

<dl><dd>
  Numbers of empty triangles.
</dd></dl>

<p><b>Notes</b></p>

<p>Related methods:</p>

<p>
<ul class="md-list">
    <li><code>.hasvoids()</code> shows if there are any voids</li>
    <li><code>.delvoids()</code> deletes voids from the mesh</li>
</ul>
</p>

<div class="toc-anchor"></div><h3>alignnodes()</h3>

<pre class="py-sign">TriMesh.<b>alignnodes</b>(<em>self</em>, *anchors)</pre>

<p>Performs the edge-core ordering of the mesh nodes.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>anchors</code> : <em>*(float, float)</em></span></p>

<dl><dd>
  Points to synchronize the mesh boundary.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh | None</em></span></p>

<dl><dd>
  New mesh, or <i>None</i> if the mesh boundary can not be fetched.
</dd></dl>

<div class="toc-anchor"></div><h3>renumed()</h3>

<pre class="py-sign">TriMesh.<b>renumed</b>(<em>self</em>, permuter)</pre>

<p>Renumbers the mesh nodes.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>permuter</code> : <em>flat-int-array</em></span></p>

<dl><dd>
  Permutation of mesh nodes.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh</em></span></p>

<dl><dd>
  Mesh with the nodes renumbered.
</dd></dl>

<div class="toc-anchor"></div><h3>shuffled()</h3>

<pre class="py-sign">TriMesh.<b>shuffled</b>(<em>self</em>, permuter)</pre>

<p>Shuffles the mesh triangles.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>permuter</code> : <em>flat-int-array</em></span></p>

<dl><dd>
  Permutation of mesh triangles.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh</em></span></p>

<dl><dd>
  Mesh with the triangles permuted.
</dd></dl>

<div class="toc-anchor"></div><h3>meshedge()</h3>

<pre class="py-sign">TriMesh.<b>meshedge</b>(<em>self</em>)</pre>

<p>Extracts the mesh edge.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>MeshEdge</em></span></p>

<dl><dd>
  Mesh edge object.
</dd></dl>

<div class="toc-anchor"></div><h3>edgesmap()</h3>

<pre class="py-sign">TriMesh.<b>edgesmap</b>(<em>self</em>)</pre>

<p>Maps inner mesh edges.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>EdgesMap</em></span></p>

<dl><dd>
  Map of inner mesh edges.
</dd></dl>

<div class="toc-anchor"></div><h3>nodesmap()</h3>

<pre class="py-sign">TriMesh.<b>nodesmap</b>(<em>self</em>)</pre>

<p>Maps nodes to hosting triangles.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>NodesMap</em></span></p>

<dl><dd>
  Nodes-to-triangles map.
</dd></dl>

<div class="toc-anchor"></div><h3>supertriu()</h3>

<pre class="py-sign">TriMesh.<b>supertriu</b>(<em>self</em>)</pre>

<p>Creates a super triangulation.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>SuperTriu</em></span></p>

<dl><dd>
  Super triangulation object.
</dd></dl>

<div class="toc-anchor"></div><h3>reduced()</h3>

<pre class="py-sign">TriMesh.<b>reduced</b>(<em>self</em>, shrink=<span>None</span>, detach=<span>False</span>)</pre>

<p>Tries to compress the mesh.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>shrink</code> : <em>int = None</em></span></p>

<dl><dd>
  Controls shrinking of super-triangulations (i).
</dd></dl>

<p><span class="vardef"><code>detach</code> : <em>bool = False</em></span></p>

<dl><dd>
  Runs the edge detachment before compression, if <i>True</i>.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>TriMesh</em></span></p>

<dl><dd>
  New mesh.
</dd></dl>

<p><b>Notes</b></p>

<p>(i) Number of shrinking steps after one compression event.</p>

<div class="toc-anchor"></div><h3>split()</h3>

<pre class="py-sign">TriMesh.<b>split</b>(<em>self</em>)</pre>

<p>Splits the mesh into homogeneous parts.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>list</em></span></p>

<dl><dd>
  List of homogeneous submeshes.
</dd></dl>

<div class="toc-anchor"></div><h2>MeshEdge</h2>

<pre class="py-sign"><b><em>class</em></b> triellipt.trimesh.<b>MeshEdge</b>(mesh=<span>None</span>, data=<span>None</span>)</pre>

<p>Mesh edge object.</p>

<p><b>Properties</b></p>

<p>Primary data:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>trinums</code></td>
        <td>Host triangles (HT) across edges.</td>
    </tr>
    <tr>
        <td><code>locnums</code></td>
        <td>Local numbers of edges in HTs</td>
    </tr>
</table>

<p>Nodes numbers:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>nodnums1</code></td>
        <td>Start nodes across edges.</td>
    </tr>
    <tr>
        <td><code>nodnums2</code></td>
        <td>End nodes across edges.</td>
    </tr>
    <tr>
        <td><code>nodnums3</code></td>
        <td>Apexes across edges.</td>
    </tr>
</table>

<p>Tables:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>edges2d</code></td>
        <td>Edges as two rows of nodes numbers.</td>
    </tr>
    <tr>
        <td><code>nodes2d</code></td>
        <td>Start nodes positions as two float rows.</td>
    </tr>
</table>

<p>Unique values:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>nodnums_unique</code></td>
        <td>Unique numbers of edge points.</td>
    </tr>
    <tr>
        <td><code>trinums_unique</code></td>
        <td>Unique numbers of edge triangles.</td>
    </tr>
</table>

<div class="toc-anchor"></div><h3>getloops()</h3>

<pre class="py-sign">MeshEdge.<b>getloops</b>(<em>self</em>)</pre>

<p>Splits the mesh edge into loops.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>list</em></span></p>

<dl><dd>
  A list of <code>EdgeLoop</code> objects.
</dd></dl>

<div class="toc-anchor"></div><h2>EdgeLoop</h2>

<pre class="py-sign"><b><em>class</em></b> triellipt.trimesh.<b>EdgeLoop</b>(mesh=<span>None</span>, data=<span>None</span>)</pre>

<p>Loop on the mesh edge.</p>

<p>
<ul class="md-list">
    <li>Inherits <code>MeshEdge</code> properties.</li>
    <li>Nodes are oriented in CCW order.</li>
</ul>
</p>

<div class="toc-anchor"></div><h3>synctoedge()</h3>

<pre class="py-sign">EdgeLoop.<b>synctoedge</b>(<em>self</em>, edgeind)</pre>

<p>Synchronizes to the specified segment.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>edgeind</code> : <em>int</em></span></p>

<dl><dd>
  Index of the segment to synchronize to.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>EdgeLoop</em></span></p>

<dl><dd>
  New loop.
</dd></dl>

<div class="toc-anchor"></div><h3>synctonode()</h3>

<pre class="py-sign">EdgeLoop.<b>synctonode</b>(<em>self</em>, nodenum)</pre>

<p>Synchronizes to the specified node.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>nodenum</code> : <em>int</em></span></p>

<dl><dd>
  Global node number to synchronize to.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>EdgeLoop</em></span></p>

<dl><dd>
  New loop.
</dd></dl>

<div class="toc-anchor"></div><h2>EdgesMap</h2>

<pre class="py-sign"><b><em>class</em></b> triellipt.trimesh.<b>EdgesMap</b>(mesh=<span>None</span>, data=<span>None</span>)</pre>

<p>Map of inner mesh edges.</p>

<p><b>Properties</b></p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>trinums1</code></td>
        <td>Host triangle one (T1).</td>
    </tr>
    <tr>
        <td><code>trinums2</code></td>
        <td>Host triangle two (T2).</td>
    </tr>
    <tr>
        <td><code>locnums1</code></td>
        <td>Local edge number in T1.</td>
    </tr>
    <tr>
        <td><code>locnums2</code></td>
        <td>Local edge number in T2.</td>
    </tr>
</table>

<div class="toc-anchor"></div><h3>getspec()</h3>

<pre class="py-sign">EdgesMap.<b>getspec</b>(<em>self</em>)</pre>

<p>Classifies triangles based on edges pairing.</p>

<p><b>Returns</b></p>

<p><span class="vardef"><em>dict</em></span></p>

<dl><dd>
  Triangles numbers for each category (i).
</dd></dl>

<p><b>Notes</b></p>

<p>(i) Triangles categories:</p>

<p>
<ul class="md-list">
    <li><mark>&quot;heads&quot;</mark> â€” 1 pair</li>
    <li><mark>&quot;links&quot;</mark> â€” 2 pairs</li>
    <li><mark>&quot;cores&quot;</mark> â€” 3 pairs</li>
    <li><mark>&quot;spots&quot;</mark> â€” 0 pairs</li>
</ul>
</p>

<div class="toc-anchor"></div><h2>NodesMap</h2>

<pre class="py-sign"><b><em>class</em></b> triellipt.trimesh.<b>NodesMap</b>(mesh=<span>None</span>, data=<span>None</span>)</pre>

<p>Nodes-to-triangles map.</p>

<p><b>Properties</b></p>

<p>Nodes data:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>nodnums</code></td>
        <td>Global numbers.</td>
    </tr>
    <tr>
        <td><code>trinums</code></td>
        <td>Host triangles (HTs).</td>
    </tr>
    <tr>
        <td><code>locnums</code></td>
        <td>Local numbers in HTs.</td>
    </tr>
</table>

<p>Neighbors local numbers:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>locnums1</code></td>
        <td>Next CCW node.</td>
    </tr>
    <tr>
        <td><code>locnums2</code></td>
        <td>Next-next CCW node.</td>
    </tr>
</table>

<p>Neighbors global numbers:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>nodnums1</code></td>
        <td>Next CCW node.</td>
    </tr>
    <tr>
        <td><code>nodnums2</code></td>
        <td>Next-next CCW node.</td>
    </tr>
</table>

<div class="toc-anchor"></div><h3>atrank()</h3>

<pre class="py-sign">NodesMap.<b>atrank</b>(<em>self</em>, rank)</pre>

<p>Extracts data for nodes with the specified rank.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>rank</code> : <em>int</em></span></p>

<dl><dd>
  Rank of the nodes to extract.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>tuple</em></span></p>

<dl><dd>
  Triplet <code>(nodnums, trinums, locnums)</code> for the extracted nodes.
</dd></dl>

<div class="toc-anchor"></div><h3>atnode()</h3>

<pre class="py-sign">NodesMap.<b>atnode</b>(<em>self</em>, nodenum)</pre>

<p>Extracts the map of a single node.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>nodenum</code> : <em>int</em></span></p>

<dl><dd>
  Number of the target node.
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>NodesMap</em></span></p>

<dl><dd>
  The resulting single-node map.
</dd></dl>

<div class="toc-anchor"></div><h2>SuperTriu</h2>

<pre class="py-sign"><b><em>class</em></b> triellipt.trimesh.<b>SuperTriu</b>(mesh=<span>None</span>, data=<span>None</span>)</pre>

<p>Super triangulation.</p>

<p><b>Properties</b></p>

<p>
<ul class="md-list">
    <li>Hosts are background triangles with three neighbors.</li>
    <li>Super-triangles are made from apexes of hosts neighbors.</li>
</ul>
</p>

<p>General:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>trinums</code></td>
        <td>Numbers of host triangles.</td>
    </tr>
    <tr>
        <td><code>kermesh</code></td>
        <td>Submesh of host triangles.</td>
    </tr>
    <tr>
        <td><code>supmesh</code></td>
        <td>Mesh from super-vertices.</td>
    </tr>
</table>

<p>Neighbors:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>trinums1</code></td>
        <td>1st CCW neighbor.</td>
    </tr>
    <tr>
        <td><code>trinums2</code></td>
        <td>2nd CCW neighbor.</td>
    </tr>
    <tr>
        <td><code>trinums3</code></td>
        <td>3rd CCW neighbor.</td>
    </tr>
</table>

<p>Super-vertices:</p>

<table>
    <tr>
        <th>Name</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>nodnums1</code></td>
        <td>1st CCW vertex.</td>
    </tr>
    <tr>
        <td><code>nodnums2</code></td>
        <td>2nd CCW vertex.</td>
    </tr>
    <tr>
        <td><code>nodnums3</code></td>
        <td>3rd CCW vertex.</td>
    </tr>
</table>

<p><b>Notes</b></p>

<p>Non-standard nodes pairing for <code>supmesh-kermesh</code> transition:</p>

<p>
<ul class="md-list">
    <li>(0, 1) â†’ 1</li>
    <li>(1, 2) â†’ 2</li>
    <li>(2, 0) â†’ 0</li>
</ul>
</p>

<div class="toc-anchor"></div><h3>strip()</h3>

<pre class="py-sign">SuperTriu.<b>strip</b>(<em>self</em>)</pre>

<p>Remove links from a super-triangulation.</p>

<p><b>Notes</b></p>

<p>See <code>EdgesMap.getspec()</code> for links definition.</p>

<div class="toc-anchor"></div><h3>smooth()</h3>

<pre class="py-sign">SuperTriu.<b>smooth</b>(<em>self</em>, iterate=<span>True</span>)</pre>

<p>Removes heads and spots from a super-triangulation.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>iterate</code> : <em>bool = True</em></span></p>

<dl><dd>
  Runs smoothing until possible, if <i>True</i>.
</dd></dl>

<p><b>Notes</b></p>

<p>See <code>EdgesMap.getspec()</code> for heads and spots definition.</p>

<div class="toc-anchor"></div><h3>detach()</h3>

<pre class="py-sign">SuperTriu.<b>detach</b>(<em>self</em>)</pre>

<p>Removes super-triangles touching the background mesh edge.</p>

<div class="toc-anchor"></div><h3>reduce()</h3>

<pre class="py-sign">SuperTriu.<b>reduce</b>(<em>self</em>, iterate=<span>True</span>)</pre>

<p>Extracts a compact super-triangulation, if possible.</p>

<p><b>Parameters</b></p>

<p><span class="vardef"><code>iterate</code> : <em>bool = True</em></span></p>

<dl><dd>
  Triggers cleaning and retry in case of failure (i).
</dd></dl>

<p><b>Returns</b></p>

<p><span class="vardef"><em>SuperTriu | None</em></span></p>

<dl><dd>
  Compact super-triangulation or <i>None</i>, if failed.
</dd></dl>

<p><b>Notes</b></p>

<p>(i) Cleaning is a strip-and-smooth action.</p>

<hr>
        </div>
        <p id="footnote">Copyright &copy; 2023, Igor Semenov.</p>
    </div>

    <footer></footer>

    <script>
        setDocPage();
    </script>

</body>

</html>